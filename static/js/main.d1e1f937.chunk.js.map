{"version":3,"sources":["store/actionTypes.ts","store/actions.ts","utils/mapLoader.ts","ui/DeleteIcon/index.tsx","ui/DraggableListItem/index.tsx","ui/PlateWithIcon/index.tsx","ui/Loader/index.tsx","ui/FormErrors/index.tsx","ui/FormInput/index.tsx","utils/geoCoder.ts","utils/moveArrayItem.ts","utils/memoizee.ts","utils/addBalloonToWaypoint.ts","components/RouteAside/RouteList/index.tsx","components/RouteAside/index.tsx","components/YandexMap/index.tsx","components/App/index.tsx","components/ErrorBoundary/index.tsx","sagas/error.ts","sagas/map.ts","config/index.ts","sagas/point.ts","sagas/route.ts","sagas/index.ts","store/rootReducer.ts","store/index.ts","index.tsx"],"names":["ActionTypesEnum","mapPromise","loadMapRequest","type","LOAD_MAP_REQUEST","createMap","payload","CREATE_MAP","createMapSuccess","map","CREATE_MAP_SUCCESS","destroyMap","DESTROY_MAP","createRouteSuccess","route","CREATE_ROUTE_SUCCESS","setRoutePoints","routePoints","SET_ROUTE_POINTS","searchRoutePointRequest","routeName","SEARCH_ROUTE_POINT_REQUEST","searchRoutePointSuccess","routePoint","SEARCH_ROUTE_POINT_SUCCESS","swapRoutePoint","SWAP_ROUTE_POINT","moveRoutePoint","MOVE_ROUTE_POINT","moveRoutePointSuccess","MOVE_ROUTE_POINT_SUCCESS","deleteRoutePoint","DELETE_ROUTE_POINT","requestFail","error","REQUEST_FAIL","DeleteIcon","memo","_ref","onClick","react_default","a","createElement","className","DraggableListItem","children","isDragging","onDragStart","onDrop","onDragEnd","draggable","concat","onDragOver","event","preventDefault","PlateWithIcon","title","Loader","FormErrors","formErrors","errors","Object","keys","fieldName","i","length","key","FormInput","_PureComponent","_getPrototypeOf2","_this","classCallCheck","this","_len","arguments","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","state","inputValue","handleInputChange","inputError","setState","target","value","handleSubmit","props","onSubmit","inherits","createClass","placeholder","onChange","PureComponent","mapLoader","_ref$apiKey","apiKey","_ref$apiUrl","apiUrl","Promise","resolve","reject","window","ymaps","__on_yandex_map_init__","script","document","src","body","appendChild","Error","convertGeocodeResponseToRoutePoint","geoObject","geometry","id","Guid","create","toString","name","properties","get","coordinates","getCoordinates","address","getAddressLine","geoCoder","asyncToGenerator","regenerator_default","mark","_callee","request","options","geocoder","geocoderResult","wrap","_context","prev","next","geocode","sent","abrupt","geoObjects","t0","stop","_x","_x2","moveArrayItem","array","from","to","arrayCopy","toConsumableArray","splice","memoizee","fn","cache","stringifyArgs","JSON","stringify","addBalloonToWaypoint","waypoint","addon","balloon","set","iconContentLayout","templateLayoutFactory","balloonContentLayout","RouteListComponent","_Component","draggingItemIndex","handleDeleteRoutePoint","handleDragStart","index","handleDrop","handleDragEnd","_this2","listItems","point","Component","RouteList","connect","dispatch","bindActionCreators","RouteAside","Fragment","FormInput_FormInput","YandexMap","mapRef","createRef","onWaypointDragEnd","newPoint","onDragPointEnd","getWayPoints","toArray","indexOf","nextProps","element","current","ref","App","_this$props","isMapScriptLoaded","YandexMap_YandexMap","hot","ErrorBoundary","hasError","info","console","requestFailAsync","errorMessage","message","alert","requestFailWatcher","_context2","takeEvery","loadMapAsync","process","put","LOAD_MAP_SUCCESS","createMapAsync","Map","center","zoom","controls","CREATE_ROUTE","mapWatcher","_context4","all","takeLatest","searchPointAsync","results","movePointAsync","_ref2","pointWatcher","_context3","createRouteAsync","multiRouter","MultiRoute","referencePoints","params","mapStateAutoApply","boundsAutoApply","editor","start","editWayPoints","addViaPoints","events","add","createRouteSuccessAsync","select","setRoutePointsAsync","_ref3","routeNames","model","setReferencePoints","once","each","routeWatcher","rootSaga","initialState","rootReducer","undefined","action","objectSpread","DESTROY_MAP_SUCCESS","filter","sagaMiddleware","createSagaMiddleware","store","createStore","applyMiddleware","run","ReactDOM","render","es","ErrorBoundary_ErrorBoundary","components_App","getElementById"],"mappings":"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","file":"static/js/main.d1e1f937.chunk.js","sourcesContent":["import { IMovePointRequest, IOnWaypointDragEnd, IRoutePoint } from 'interfaces';\n\nexport enum ActionTypesEnum {\n  LOAD_MAP_REQUEST = 'LOAD_MAP_REQUEST',\n  LOAD_MAP_SUCCESS = 'LOAD_MAP_SUCCESS',\n  CREATE_MAP = 'CREATE_MAP',\n  CREATE_MAP_SUCCESS = 'CREATE_MAP_SUCCESS',\n  DESTROY_MAP = 'DESTROY_MAP',\n  DESTROY_MAP_SUCCESS = 'DESTROY_MAP_SUCCESS',\n  CREATE_ROUTE = 'CREATE_ROUTE',\n  CREATE_ROUTE_SUCCESS = 'CREATE_ROUTE_SUCCESS',\n  SET_ROUTE_POINTS = 'SET_ROUTE_POINTS',\n  ADD_ROUTE_POINT = 'ADD_ROUTE_POINT',\n  SWAP_ROUTE_POINT = 'SWAP_ROUTE_POINT',\n  MOVE_ROUTE_POINT = 'MOVE_ROUTE_POINT',\n  MOVE_ROUTE_POINT_SUCCESS = 'MOVE_ROUTE_POINT_SUCCESS',\n  DELETE_ROUTE_POINT = 'DELETE_ROUTE_POINT',\n  SEARCH_ROUTE_POINT_REQUEST = 'SEARCH_ROUTE_POINT_REQUEST',\n  SEARCH_ROUTE_POINT_SUCCESS = 'SEARCH_ROUTE_POINT_SUCCESS',\n  REQUEST_FAIL = 'REQUEST_FAIL',\n}\n\nexport interface ILoadMapRequestAction {\n  type: ActionTypesEnum.LOAD_MAP_REQUEST;\n}\n\nexport interface ILoadMapSuccessAction {\n  type: ActionTypesEnum.LOAD_MAP_SUCCESS;\n}\n\nexport interface ICreateMapAction {\n  type: ActionTypesEnum.CREATE_MAP;\n  payload: {\n    element: HTMLDivElement;\n    onWaypointDragEnd: IOnWaypointDragEnd;\n  };\n}\n\nexport interface IDestroyMapAction {\n  type: ActionTypesEnum.DESTROY_MAP;\n}\n\nexport interface IDestroyMapSuccessAction {\n  type: ActionTypesEnum.DESTROY_MAP_SUCCESS;\n}\n\nexport interface ICreateMapSuccessAction {\n  type: ActionTypesEnum.CREATE_MAP_SUCCESS;\n  payload: ymaps.Map;\n}\n\nexport interface ICreateRouteAction {\n  type: ActionTypesEnum.CREATE_ROUTE;\n  payload: IOnWaypointDragEnd;\n}\n\nexport interface ICreateRouteSuccessAction {\n  type: ActionTypesEnum.CREATE_ROUTE_SUCCESS;\n  payload: ymaps.multiRouter.MultiRoute;\n}\n\nexport interface ISetRoutePoints {\n  type: ActionTypesEnum.SET_ROUTE_POINTS;\n  payload: IRoutePoint[];\n}\n\nexport interface ISearchRoutePointRequestAction {\n  type: ActionTypesEnum.SEARCH_ROUTE_POINT_REQUEST;\n  payload: string;\n}\n\nexport interface ISearchRoutePointSuccessAction {\n  type: ActionTypesEnum.SEARCH_ROUTE_POINT_SUCCESS;\n  payload: IRoutePoint;\n}\n\nexport interface IAddRoutePointAction {\n  type: ActionTypesEnum.ADD_ROUTE_POINT;\n  payload: string;\n}\n\nexport interface ISwapRoutePointAction {\n  type: ActionTypesEnum.SWAP_ROUTE_POINT;\n  payload: { from: number; to: number };\n}\n\nexport interface IMoveRoutePointAction {\n  type: ActionTypesEnum.MOVE_ROUTE_POINT;\n  payload: IMovePointRequest;\n}\n\nexport interface IMoveRoutePointSuccessAction {\n  type: ActionTypesEnum.MOVE_ROUTE_POINT_SUCCESS;\n  payload: { index: number; newPoint: IRoutePoint };\n}\n\nexport interface IDeleteRoutePointAction {\n  type: ActionTypesEnum.DELETE_ROUTE_POINT;\n  payload: IRoutePoint;\n}\n\nexport interface IRequestFail {\n  type: ActionTypesEnum.REQUEST_FAIL;\n  payload: Error;\n}\n\nexport type ActionTypes =\n  | ILoadMapRequestAction\n  | ILoadMapSuccessAction\n  | ICreateMapAction\n  | ICreateMapSuccessAction\n  | IDestroyMapAction\n  | IDestroyMapSuccessAction\n  | ICreateRouteAction\n  | ICreateRouteSuccessAction\n  | ISetRoutePoints\n  | ISearchRoutePointRequestAction\n  | ISearchRoutePointSuccessAction\n  | IAddRoutePointAction\n  | ISwapRoutePointAction\n  | IMoveRoutePointAction\n  | IMoveRoutePointSuccessAction\n  | IDeleteRoutePointAction\n  | IRequestFail;\n","import { IMovePointRequest, IOnWaypointDragEnd, IRoutePoint } from 'interfaces';\nimport { ActionTypes, ActionTypesEnum } from './actionTypes';\n\nexport const loadMapRequest = () => {\n  return {\n    type: ActionTypesEnum.LOAD_MAP_REQUEST,\n  };\n};\n\nexport const loadMapSuccess = () => {\n  return {\n    type: ActionTypesEnum.LOAD_MAP_SUCCESS,\n  };\n};\n\nexport const createMap = (payload: {\n  element: HTMLDivElement;\n  onWaypointDragEnd: IOnWaypointDragEnd;\n}) => {\n  return {\n    type: ActionTypesEnum.CREATE_MAP,\n    payload,\n  };\n};\n\nexport const createMapSuccess = (map: ymaps.Map) => {\n  return {\n    type: ActionTypesEnum.CREATE_MAP_SUCCESS,\n    payload: map,\n  };\n};\n\nexport const destroyMap = () => {\n  return {\n    type: ActionTypesEnum.DESTROY_MAP,\n  };\n};\n\nexport const destroyMapSuccess = () => {\n  return {\n    type: ActionTypesEnum.DESTROY_MAP_SUCCESS,\n  };\n};\n\nexport const createRoute = (onWaypointDragEnd: IOnWaypointDragEnd) => {\n  return {\n    type: ActionTypesEnum.CREATE_ROUTE,\n    payload: onWaypointDragEnd,\n  };\n};\n\nexport const createRouteSuccess = (route: ymaps.multiRouter.MultiRoute) => {\n  return {\n    type: ActionTypesEnum.CREATE_ROUTE_SUCCESS,\n    payload: route,\n  };\n};\n\nexport const setRoutePoints = (routePoints: IRoutePoint[]) => {\n  return {\n    type: ActionTypesEnum.SET_ROUTE_POINTS,\n    payload: routePoints,\n  };\n};\n\nexport const searchRoutePointRequest = (routeName: string): ActionTypes => {\n  return {\n    type: ActionTypesEnum.SEARCH_ROUTE_POINT_REQUEST,\n    payload: routeName,\n  };\n};\n\nexport const searchRoutePointSuccess = (routePoint: IRoutePoint) => {\n  return {\n    type: ActionTypesEnum.SEARCH_ROUTE_POINT_SUCCESS,\n    payload: routePoint,\n  };\n};\n\nexport const addRoutePoint = (routeName: string) => {\n  return {\n    type: ActionTypesEnum.ADD_ROUTE_POINT,\n    payload: routeName,\n  };\n};\n\nexport const swapRoutePoint = (payload: { from: number; to: number }) => {\n  return {\n    type: ActionTypesEnum.SWAP_ROUTE_POINT,\n    payload,\n  };\n};\n\nexport const moveRoutePoint = (payload: IMovePointRequest) => {\n  return {\n    type: ActionTypesEnum.MOVE_ROUTE_POINT,\n    payload,\n  };\n};\n\nexport const moveRoutePointSuccess = (payload: {\n  index: number;\n  newPoint: IRoutePoint;\n}): ActionTypes => {\n  return {\n    type: ActionTypesEnum.MOVE_ROUTE_POINT_SUCCESS,\n    payload,\n  };\n};\n\nexport const deleteRoutePoint = (routePoint: IRoutePoint) => {\n  return {\n    type: ActionTypesEnum.DELETE_ROUTE_POINT,\n    payload: routePoint,\n  };\n};\n\nexport const requestFail = (error: Error) => {\n  return {\n    type: ActionTypesEnum.REQUEST_FAIL,\n    payload: error,\n  };\n};\n","import { IFunboxWindow } from 'interfaces';\n\ndeclare const window: IFunboxWindow;\n\nlet mapPromise: Promise<typeof window.ymaps>;\n\nexport const mapLoader = ({ apiKey = '', apiUrl = '' }: { apiKey: string; apiUrl: string }) => {\n  if (mapPromise) {\n    return mapPromise;\n  }\n\n  mapPromise = new Promise((resolve, reject) => {\n    if (!apiKey) {\n      reject(new Error('There must be a key!'));\n      return;\n    }\n\n    if (!apiUrl) {\n      reject(new Error('There must be url!'));\n      return;\n    }\n\n    if (window.ymaps) {\n      resolve(window.ymaps);\n      return;\n    }\n\n    window.__on_yandex_map_init__ = () => {\n      delete window.__on_yandex_map_init__;\n      resolve(window.ymaps);\n    };\n\n    const script = document.createElement('script');\n\n    script.src = `${apiUrl}?apikey=${apiKey}&lang=ru_RU&onload=__on_yandex_map_init__`;\n    document.body.appendChild(script);\n  });\n\n  return mapPromise;\n};\n","import React, { memo, MouseEvent } from 'react';\n\nimport './styles.css';\n\nexport const DeleteIcon = memo(({ onClick }: IProps) => (\n  <button className='fb-delete-icon' onClick={onClick} />\n));\n\ninterface IProps {\n  onClick: (event: MouseEvent<HTMLElement>) => void;\n}\n","import React, { DragEvent, memo, ReactNode } from 'react';\n\nimport './styles.css';\n\nexport const DraggableListItem = memo(({\n    children,\n    isDragging,\n    onDragStart,\n    onDrop,\n    onDragEnd }: IProps,\n  ) => {\n    const handleDragOver = (event: DragEvent<HTMLElement>) => {\n      event.preventDefault();\n    };\n\n    return (<li\n      draggable={true}\n      className={`fb-draggable ${isDragging ? 'fb-draggable--is-dragging' : ''}`}\n      onDragStart={onDragStart}\n      onDragOver={handleDragOver}\n      onDrop={onDrop}\n      onDragEnd={onDragEnd}\n    >\n      {children}\n    </li>);\n  });\n\ninterface IProps {\n  children: ReactNode;\n\n  isDragging: boolean;\n\n  onDragStart: () => void;\n\n  onDrop: () => void;\n\n  onDragEnd: () => void;\n}\n","import React, { memo, ReactNode } from 'react';\n\nimport './styles.css';\n\nexport const PlateWithIcon = memo(({ title, children }: IProps) => (\n  <div className='fb-plate'>\n    <span>{title}</span>\n\n    <div className='fb-plate__icon'>\n      {children}\n    </div>\n  </div>\n));\n\ninterface IProps {\n  title: string;\n\n  children: ReactNode;\n}\n","import React, { memo } from 'react';\n\nexport const Loader = memo(() => <div>Loading...</div>);\n","import React, { memo } from 'react';\n\nimport './styles.css';\n\nexport const FormErrors = memo(({ formErrors }: IProps) => {\n  const errors = Object.keys(formErrors).map((fieldName, i) => {\n    return formErrors[fieldName].length > 0\n      ? <p key={i}>{formErrors[fieldName]}</p>\n      : null;\n  });\n\n  return <div className=\"fb-form-errors\">{errors}</div>;\n});\n\ninterface IProps {\n  formErrors: { [fieldName: string]: string };\n}\n","import React, { ChangeEvent, FormEvent, PureComponent } from 'react';\nimport { FormErrors } from '../FormErrors';\n\nimport './styles.css';\n\nexport class FormInput extends PureComponent<IProps, IState> {\n  public state: IState = {\n    inputValue: '',\n    formErrors: {},\n  };\n\n  public handleInputChange = (event: ChangeEvent<HTMLInputElement>) => {\n    if (this.state.formErrors.inputError) {\n      this.setState({ formErrors: {} });\n    }\n\n    this.setState({ inputValue: event.target.value });\n  }\n\n  public handleSubmit = (event: FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    const inputValue = this.state.inputValue;\n\n    if (inputValue.length <= 0) {\n      this.setState({\n        formErrors: { inputError: 'Value must not be empty' },\n      });\n\n      return;\n    }\n\n    this.props.onSubmit(this.state.inputValue);\n    this.setState({ inputValue: '' });\n  }\n\n  public render() {\n    return (\n      <form className='fb-form' onSubmit={this.handleSubmit}>\n        <input\n          type='text'\n          placeholder={this.props.placeholder}\n          className='fb-form__input'\n          value={this.state.inputValue}\n          onChange={this.handleInputChange}\n        />\n\n        <FormErrors formErrors={this.state.formErrors} />\n      </form>\n    );\n  }\n}\n\ninterface IProps {\n  placeholder: string;\n\n  onSubmit: (formValue: string) => void;\n}\n\ninterface IState {\n  inputValue: string;\n\n  formErrors: { [fieldName: string]: string };\n}\n","import { Guid } from 'guid-typescript';\nimport { IGeocodeOptions, IRoutePoint } from 'interfaces';\nimport { IFunboxWindow } from 'interfaces';\n\ndeclare const window: IFunboxWindow;\n\nconst MAP_ERROR = 'Yandex maps must be initialized';\nconst ABSENTEE_ROUTE_ERROR = 'There must be a route name';\nconst UNKNOWN_ERROR = \"Sorry, we can't find the route point\";\n\nconst convertGeocodeResponseToRoutePoint = (geoObject: ymaps.IGeoObject): IRoutePoint | Error => {\n  try {\n    const geometry = geoObject.geometry as ymaps.IPointGeometry;\n\n    return {\n      id: Guid.create().toString(),\n      name: geoObject.properties.get('name', null).toString(),\n      coordinates: geometry.getCoordinates() as number[],\n      address: geoObject.getAddressLine(),\n    };\n  } catch (error) {\n    throw new Error(error);\n  }\n};\n\nexport const geoCoder = async (\n  request: string | number[],\n  options?: IGeocodeOptions\n): Promise<IRoutePoint | Error> => {\n  const ymaps = window.ymaps;\n\n  if (!ymaps || !ymaps.geocode || typeof ymaps.geocode !== 'function') {\n    throw new Error(MAP_ERROR);\n  }\n\n  if (!request) {\n    throw new Error(ABSENTEE_ROUTE_ERROR);\n  }\n\n  try {\n    const geocoder = ymaps.geocode(request, options);\n    const geocoderResult = await geocoder;\n\n    return convertGeocodeResponseToRoutePoint(geocoderResult.geoObjects.get(0));\n  } catch (error) {\n    throw new Error(UNKNOWN_ERROR);\n  }\n};\n","export const moveArrayItem = (array: any[], from: number, to: number) => {\n  if (\n    !array ||\n    !array.length ||\n    typeof array[from] === 'undefined' ||\n    typeof array[to] === 'undefined'\n  ) {\n    return array;\n  }\n\n  const arrayCopy = [...array];\n\n  arrayCopy.splice(to, 0, arrayCopy.splice(from, 1)[0]);\n\n  return arrayCopy;\n};\n","export const memoizee = fn => {\n  const cache = {};\n\n  return (...args) => {\n    const stringifyArgs = JSON.stringify(args);\n\n    cache[stringifyArgs] = cache[stringifyArgs] || fn(...args);\n\n    return cache[stringifyArgs];\n  };\n};\n","import { IFunboxWindow } from 'interfaces';\n\ndeclare const window: IFunboxWindow;\n\nexport const addBalloonToWaypoint = (waypoint: ymaps.multiRouter.WayPoint) => {\n  window.ymaps.geoObject.addon.balloon.get(waypoint);\n\n  waypoint.options.set({\n    iconContentLayout: window.ymaps.templateLayoutFactory.createClass(''),\n    balloonContentLayout: window.ymaps.templateLayoutFactory.createClass(\n      '{{ properties.address|raw }}'\n    ),\n  });\n}\n","import { IRoutePoint } from 'interfaces';\nimport React, { Component, MouseEvent } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { IAppState } from 'store';\nimport { deleteRoutePoint, swapRoutePoint } from 'store/actions';\nimport { DeleteIcon, DraggableListItem, PlateWithIcon } from 'ui';\nimport { memoizee } from 'utils';\n\nimport './styles.css';\n\nconst mapStateToProps = ({ routePoints }: IAppState) => ({\n  routePoints,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      swapRoutePoint,\n      deleteRoutePoint,\n    },\n    dispatch\n  );\n\nexport class RouteListComponent extends Component<IProps, IState> {\n  public state: IState = {\n    draggingItemIndex: null,\n  };\n\n  public handleDeleteRoutePoint = memoizee(\n    (routePoint: IRoutePoint) => (event: MouseEvent<HTMLElement>) => {\n      event.preventDefault();\n\n      this.props.deleteRoutePoint(routePoint);\n    }\n  );\n\n  public handleDragStart = memoizee((index: number) => () => {\n    this.setState({\n      draggingItemIndex: index,\n    });\n  });\n\n  public handleDrop = memoizee((index: number) => () => {\n    if (this.state.draggingItemIndex === index) {\n      return;\n    }\n\n    this.props.swapRoutePoint({\n      from: this.state.draggingItemIndex,\n      to: index,\n    });\n  });\n\n  public handleDragEnd = () => {\n    this.setState({\n      draggingItemIndex: null,\n    });\n  };\n\n  public render() {\n    const listItems = this.props.routePoints.map((point, index) => (\n      <DraggableListItem\n        key={point.id}\n        isDragging={this.state.draggingItemIndex === index}\n        onDragStart={this.handleDragStart(index)}\n        onDrop={this.handleDrop(index)}\n        onDragEnd={this.handleDragEnd}\n      >\n        <PlateWithIcon title={point.name}>\n          <DeleteIcon onClick={this.handleDeleteRoutePoint(point)} />\n        </PlateWithIcon>\n      </DraggableListItem>\n    ));\n\n    return <ul className=\"fb-route-list\">{listItems}</ul>;\n  }\n}\n\ntype IProps = IStateToProps & IDispatchProps;\n\ninterface IState {\n  draggingItemIndex: number;\n}\n\ninterface IStateToProps {\n  routePoints: IRoutePoint[];\n}\n\ninterface IDispatchProps {\n  deleteRoutePoint: (routePoint: IRoutePoint) => void;\n\n  swapRoutePoint: (fromTo: { from: number; to: number }) => void;\n}\n\nexport const RouteList = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(RouteListComponent);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { searchRoutePointRequest } from 'store/actions';\nimport { FormInput } from 'ui';\nimport { RouteList } from './RouteList';\n\nimport './styles.css';\n\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      onSubmit: searchRoutePointRequest,\n    },\n    dispatch\n  );\n\nexport const RouteAsideComponent = ({ onSubmit }: IProps) => (\n  <>\n    <FormInput placeholder={'Enter point name'} onSubmit={onSubmit} />\n\n    <div className=\"fb-routes-aside__list\">\n      <RouteList />\n    </div>\n  </>\n);\n\ntype IProps = IDispatchProps;\n\ninterface IDispatchProps {\n  onSubmit: (routeName: string) => void;\n}\n\nexport const RouteAside = connect(\n  null,\n  mapDispatchToProps\n)(RouteAsideComponent);\n","import React, { Component, createRef } from 'react';\nimport { IMovePointRequest, IRoutePoint, IOnWaypointDragEnd } from 'interfaces';\n\nimport './styles.css';\n\nexport class YandexMap extends Component<IProps, {}> {\n  public mapRef = createRef<HTMLDivElement>();\n\n  public componentWillReceiveProps(nextProps: IProps) {\n    this.props.setRoutePoints(nextProps.routePoints);\n  }\n\n  public shouldComponentUpdate() {\n    return false;\n  }\n\n  public componentDidMount() {\n    this.props.createMap({ element: this.mapRef.current, onWaypointDragEnd: this.onWaypointDragEnd });\n  }\n\n  public componentWillUnmount() {\n    this.props.destroyMap();\n  }\n\n  public onWaypointDragEnd = (route: ymaps.multiRouter.MultiRoute) => (event: ymaps.IEvent) => {\n    const newPoint = event.get('wayPoint') as ymaps.multiRouter.WayPoint;\n\n    this.props.onDragPointEnd({\n      index: route.getWayPoints().toArray().indexOf(newPoint),\n      newPoint,\n    });\n  }\n\n  public render() {\n    return <div className='google-map' ref={this.mapRef}/>;\n  }\n}\n\ninterface IProps {\n  routePoints: IRoutePoint[];\n\n  onDragPointEnd: (payload: IMovePointRequest) => void;\n\n  createMap: (payload: {\n    element: HTMLDivElement;\n    onWaypointDragEnd: IOnWaypointDragEnd;\n  }) => void;\n\n  setRoutePoints: (routePoints: IRoutePoint[]) => void;\n\n  destroyMap: () => void;\n}\n","import React, { Component } from 'react';\nimport { hot } from 'react-hot-loader/root';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { IMovePointRequest, IOnWaypointDragEnd, IRoutePoint } from 'interfaces';\nimport { IAppState } from 'store';\nimport {\n  createMap,\n  destroyMap,\n  loadMapRequest,\n  moveRoutePoint,\n  setRoutePoints,\n} from 'store/actions';\nimport { Loader } from 'ui';\nimport { RouteAside } from '../RouteAside';\nimport { YandexMap } from '../YandexMap';\n\nimport './styles.css';\n\nconst mapStateToProps = (state: IAppState) => ({\n  isMapScriptLoaded: state.isMapScriptLoaded,\n  routePoints: state.routePoints,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      loadMapRequest,\n      moveRoutePoint,\n      createMap,\n      setRoutePoints,\n      destroyMap,\n    },\n    dispatch\n  );\n\nexport class App extends Component<IProps, {}> {\n  public componentDidMount() {\n    this.props.loadMapRequest();\n  }\n\n  public render() {\n    const {\n      routePoints,\n      moveRoutePoint,\n      createMap,\n      setRoutePoints,\n      destroyMap,\n      isMapScriptLoaded,\n    } = this.props;\n\n    const content = isMapScriptLoaded ? (\n      <main>\n        <aside className=\"app__aside\">\n          <RouteAside />\n        </aside>\n\n        <div className=\"app__map\">\n          <YandexMap\n            routePoints={routePoints}\n            onDragPointEnd={moveRoutePoint}\n            createMap={createMap}\n            setRoutePoints={setRoutePoints}\n            destroyMap={destroyMap}\n          />\n        </div>\n      </main>\n    ) : (\n      <Loader />\n    );\n\n    return content;\n  }\n}\n\ntype IProps = IStateToProps & IDispatchProps;\n\ninterface IStateToProps {\n  isMapScriptLoaded: boolean;\n\n  routePoints: IRoutePoint[];\n}\n\ninterface IDispatchProps {\n  loadMapRequest: () => void;\n\n  moveRoutePoint: (payload: IMovePointRequest) => void;\n\n  createMap: (payload: { element: HTMLDivElement; onWaypointDragEnd: IOnWaypointDragEnd }) => void;\n\n  setRoutePoints: (routePoints: IRoutePoint[]) => void;\n\n  destroyMap: () => void;\n}\n\nexport default hot(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(App)\n);\n","import React, { Component } from 'react';\n\nexport class ErrorBoundary extends Component<{}, IState> {\n  public state: IState = {\n    hasError: false,\n  };\n\n  public componentDidCatch(error: Error | null, info: object) {\n    this.setState({\n      hasError: true,\n    });\n\n    // tslint:disable-next-line:no-console\n    console.error(info);\n  }\n\n  public render() {\n    return this.state.hasError ? <div>Something went wrong</div> : this.props.children;\n  }\n}\n\ninterface IState {\n  hasError: boolean;\n}\n","import { call } from 'redux-saga/effects';\nimport { takeEvery } from 'redux-saga/effects';\nimport { ActionTypesEnum, IRequestFail } from 'store/actionTypes';\n\nexport const requestFailAsync = function*({ payload }: IRequestFail) {\n  if (payload && payload instanceof Error) {\n    const errorMessage = payload.message;\n\n    yield call(alert, errorMessage);\n  }\n};\n\nexport const requestFailWatcher = function*() {\n  yield takeEvery(ActionTypesEnum.REQUEST_FAIL, requestFailAsync);\n};\n","import { YANDEX_MAP_URL, YANDEX_MAPS_KEY } from 'config';\nimport { IFunboxWindow } from 'interfaces';\nimport { all, call, put, select, takeLatest } from 'redux-saga/effects';\nimport { IAppState } from 'store';\nimport {\n  createMapSuccess,\n  createRoute,\n  destroyMapSuccess,\n  loadMapSuccess,\n  requestFail,\n} from 'store/actions';\nimport { ActionTypesEnum, ICreateMapAction } from 'store/actionTypes';\nimport { mapLoader } from 'utils';\n\ndeclare const window: IFunboxWindow;\n\nexport const loadMapAsync = function*() {\n  try {\n    yield call(mapLoader, { apiKey: YANDEX_MAPS_KEY, apiUrl: YANDEX_MAP_URL });\n    yield put(loadMapSuccess());\n  } catch (error) {\n    yield put(requestFail(error));\n  }\n};\n\nexport const createMapAsync = function*({ payload }: ICreateMapAction) {\n  try {\n    const map = yield new window.ymaps.Map(payload.element, {\n      center: [55.755, 37.617],\n      zoom: 6,\n      controls: ['zoomControl'],\n    });\n\n    yield put(createMapSuccess(map));\n    yield put(createRoute(payload.onWaypointDragEnd));\n  } catch (error) {\n    yield put(requestFail(error));\n  }\n};\n\nexport const destroyMapAsync = function*() {\n  const map = yield select((state: IAppState) => state.map);\n  const route = yield select((state: IAppState) => state.route);\n\n  yield route.editor.stop();\n  yield map.destroy();\n  yield put(destroyMapSuccess());\n};\n\nexport const mapWatcher = function*() {\n  yield all([\n    takeLatest(ActionTypesEnum.LOAD_MAP_REQUEST, loadMapAsync),\n    takeLatest(ActionTypesEnum.CREATE_MAP, createMapAsync),\n  ]);\n};\n","export const YANDEX_MAP_URL = 'https://api-maps.yandex.ru/2.1';\nexport const YANDEX_MAPS_KEY = process.env.REACT_APP_YANDEX_MAPS_KEY;\nexport const IS_DEV = process.env.NODE_ENV === 'development';\n","import { all, call, put, takeLatest } from 'redux-saga/effects';\nimport { moveRoutePointSuccess, requestFail, searchRoutePointSuccess } from 'store/actions';\nimport {\n  ActionTypesEnum,\n  IMoveRoutePointAction,\n  ISearchRoutePointRequestAction,\n} from 'store/actionTypes';\nimport { geoCoder } from 'utils';\n\nexport const searchPointAsync = function*({ payload }: ISearchRoutePointRequestAction) {\n  try {\n    const routePoint = yield call(geoCoder, payload, { results: 1 });\n\n    yield put(searchRoutePointSuccess(routePoint));\n  } catch (error) {\n    yield put(requestFail(error));\n  }\n};\n\nexport const movePointAsync = function*({ payload }: IMoveRoutePointAction) {\n  try {\n    const geometry = payload.newPoint.geometry as ymaps.IPointGeometry;\n    const routePoint = yield call(geoCoder, geometry.getCoordinates(), { results: 1 });\n\n    yield put(\n      moveRoutePointSuccess({\n        newPoint: routePoint,\n        index: payload.index,\n      })\n    );\n  } catch (error) {\n    yield put(requestFail(error));\n  }\n};\n\nexport const pointWatcher = function*() {\n  yield all([\n    takeLatest(ActionTypesEnum.SEARCH_ROUTE_POINT_REQUEST, searchPointAsync),\n    takeLatest(ActionTypesEnum.MOVE_ROUTE_POINT, movePointAsync),\n  ]);\n};\n","import { IFunboxWindow, IRoutePoint } from 'interfaces';\nimport { all, put, select, takeLatest } from 'redux-saga/effects';\nimport { IAppState } from 'store';\nimport { createRouteSuccess, requestFail } from 'store/actions';\nimport {\n  ActionTypesEnum,\n  ICreateMapSuccessAction,\n  ICreateRouteAction,\n  ISetRoutePoints,\n} from 'store/actionTypes';\nimport { addBalloonToWaypoint } from 'utils';\n\ndeclare const window: IFunboxWindow;\n\nexport const createRouteAsync = function*({ payload }: ICreateRouteAction) {\n  try {\n    const route = yield new window.ymaps.multiRouter.MultiRoute(\n      {\n        referencePoints: [],\n        params: {\n          results: 1,\n        },\n      },\n      {\n        mapStateAutoApply: true,\n        boundsAutoApply: true,\n      }\n    );\n\n    route.editor.start({ editWayPoints: true, addViaPoints: false });\n    route.editor.events.add('waypointdragend', payload(route));\n\n    yield put(createRouteSuccess(route));\n  } catch (error) {\n    yield put(requestFail(error));\n  }\n};\n\nexport const createRouteSuccessAsync = function*({ payload }: ICreateMapSuccessAction) {\n  try {\n    const map = yield select((state: IAppState) => state.map);\n\n    map.geoObjects.add(payload);\n  } catch (error) {\n    yield put(requestFail(error));\n  }\n};\n\nexport const setRoutePointsAsync = function*({ payload }: ISetRoutePoints) {\n  const route = yield select((state: IAppState) => state.route);\n  const routeNames = payload.map((route: IRoutePoint) => route.name);\n\n  route.model.setReferencePoints(routeNames);\n\n  (route.model.events as ymaps.event.Manager).once('requestsuccess', () => {\n    route.getWayPoints().each(addBalloonToWaypoint);\n  });\n};\n\nexport const routeWatcher = function*() {\n  yield all([\n    takeLatest(ActionTypesEnum.CREATE_ROUTE, createRouteAsync),\n    takeLatest(ActionTypesEnum.CREATE_ROUTE_SUCCESS, createRouteSuccessAsync),\n    takeLatest(ActionTypesEnum.SET_ROUTE_POINTS, setRoutePointsAsync),\n  ]);\n};\n","import { all } from 'redux-saga/effects';\nimport { requestFailWatcher } from './error';\nimport { mapWatcher } from './map';\nimport { pointWatcher } from './point';\nimport { routeWatcher } from './route';\n\nexport const rootSaga = function*() {\n  yield all([pointWatcher(), mapWatcher(), requestFailWatcher(), routeWatcher()]);\n};\n","import { IAppState } from 'store';\nimport { moveArrayItem } from 'utils';\nimport { ActionTypes, ActionTypesEnum } from './actionTypes';\n\nconst initialState: IAppState = {\n  routePoints: [],\n  isMapScriptLoaded: false,\n  map: null,\n  route: null,\n};\n\nexport const rootReducer = (state = initialState, action: ActionTypes): IAppState => {\n  switch (action.type) {\n    case ActionTypesEnum.LOAD_MAP_SUCCESS:\n      return {\n        ...state,\n        isMapScriptLoaded: true,\n      };\n\n    case ActionTypesEnum.CREATE_MAP_SUCCESS:\n      return {\n        ...state,\n        map: action.payload,\n      };\n\n    case ActionTypesEnum.DESTROY_MAP_SUCCESS:\n      return {\n        ...state,\n        map: null,\n        route: null,\n      };\n\n    case ActionTypesEnum.CREATE_ROUTE_SUCCESS:\n      return {\n        ...state,\n        route: action.payload,\n      };\n\n    case ActionTypesEnum.SEARCH_ROUTE_POINT_SUCCESS:\n      return {\n        ...state,\n        routePoints: [...state.routePoints, action.payload],\n      };\n\n    case ActionTypesEnum.SWAP_ROUTE_POINT:\n      return {\n        ...state,\n        routePoints: moveArrayItem(state.routePoints, action.payload.from, action.payload.to),\n      };\n\n    case ActionTypesEnum.MOVE_ROUTE_POINT_SUCCESS:\n      state.routePoints[action.payload.index] = action.payload.newPoint;\n      return {\n        ...state,\n        routePoints: [...state.routePoints],\n      };\n\n    case ActionTypesEnum.DELETE_ROUTE_POINT:\n      return {\n        ...state,\n        routePoints: state.routePoints.filter(point => point.id !== action.payload.id),\n      };\n\n    default:\n      return state;\n  }\n};\n","import { IS_DEV } from 'config';\nimport { IRoutePoint } from 'interfaces';\nimport { applyMiddleware, createStore } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport createSagaMiddleware from 'redux-saga';\nimport { rootReducer } from './rootReducer';\n\nexport const sagaMiddleware = createSagaMiddleware();\n\nexport const initStore = () => (\n  createStore(\n    rootReducer,\n    IS_DEV\n      ? composeWithDevTools(applyMiddleware(sagaMiddleware))\n      : applyMiddleware(sagaMiddleware),\n  )\n);\n\nexport interface IAppState {\n  routePoints: IRoutePoint[];\n\n  isMapScriptLoaded: boolean;\n\n  map: ymaps.Map;\n\n  route: ymaps.multiRouter.MultiRoute;\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'components/App';\nimport { ErrorBoundary } from 'components/ErrorBoundary';\nimport { Provider } from 'react-redux';\nimport { rootSaga } from 'sagas';\nimport { initStore, sagaMiddleware } from 'store';\n\nconst store = initStore();\n\nsagaMiddleware.run(rootSaga);\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundary>\n      <App />\n    </ErrorBoundary>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}